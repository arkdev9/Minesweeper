(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{27:function(e,n,t){e.exports=t(44)},37:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(9),i=t(8),c=t(11),l=t(12),u=t(15),d=t(14),s=t(16),y=t(46),x=t(47),v=t(48),p=(t(37),t(13)),m="INIT_GAME",h="USER_CLICK",f=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(u.a)(this,Object(d.a)(n).call(this,e))).state={block:t.props.board[t.props.x][t.props.y]},t.handleClick=t.handleClick.bind(Object(p.a)(t)),t}return Object(s.a)(n,e),Object(l.a)(n,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.handleClick(e.button,this.props.x,this.props.y)}},{key:"render",value:function(){var e,n=this.props.board[this.props.x][this.props.y];return e=n.flag?a.a.createElement("div",{style:{width:"100%",height:"100%",backgroundImage:"url(flag.png)"}}):n.revealed?a.a.createElement("p",null,n.count):"",this.props.win&&n.mine&&(e=a.a.createElement("div",{style:{width:"100%",height:"100%",backgroundImage:"url(mine.png)"}})),a.a.createElement("td",{style:{backgroundImage:"flag.png"},onContextMenu:this.handleClick,onClick:this.handleClick},e)}}]),n}(a.a.Component),b=Object(i.b)((function(e){return{board:e.board.board,win:e.board.win}}),(function(e){return{handleClick:function(n,t,r){e(function(e,n,t){return{type:"USER_CLICK",button:e,x:n,y:t}}(n,t,r))}}}))(f),g=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(s.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){for(var e=[],n=0;n<10;n++){for(var t=[],r=0;r<10;r++)t.push(a.a.createElement(b,{key:r,mine:this.props.root.board[n][r].mine,x:n,y:r}));e.push(a.a.createElement("tr",{key:n},t))}return a.a.createElement(y.a,null,a.a.createElement(x.a,null,a.a.createElement(v.a,{className:"text-center"},a.a.createElement("table",{id:"gameTable",className:"mx-auto"},a.a.createElement("tbody",null,e)))))}}]),n}(a.a.Component),j=Object(i.b)((function(e){return{root:e.board}}),(function(e){return{}}))(g),k=t(26),O=t(20),E=function(e){return function(n,t,r){return e((function(e,t){var r,a=performance.now(),o=n(e,t),i=performance.now(),c=(r=i-a,Math.round(100*r)/100);return console.log("reducer process time:",c),o}),t,r)}},w=function(e){return function(n){return function(t){console.log(t.type),console.info("dispatching",t);var r=n(t);return console.log("next state",e.getState()),r}}},C=t(4),I=t(23),M=function(e){for(var n=[],t=0;t<e.length;t++){for(var r=[],a=0;a<e[t].length;a++)r.push(Object(I.a)({},e[t][a]));n.push(r)}return n},S=function(){for(var e=10*Math.random()+10,n=[],t=0;t<10;t++){for(var r=[],a=0;a<10;a++)r.push({mine:!1,revealed:!1,flag:!1});n.push(r)}for(var o=0;o<e;o++){var i=Math.floor(10*Math.random()),c=Math.floor(10*Math.random());n[i][c].mine=!0}return{board:n,win:!1}},N=function e(n,t){var r=0,a=M(n),o=!1,i=!1,c=!1,l=!1,u=!1,d=!1,s=!1,y=!1;return console.log("Flood source: "+t.x+", "+t.y),console.log(a),a[t.x][t.y].revealed?(console.log("Already revealed, return unmodded board"),a):(void 0!==a[t.x]&&void 0!==a[t.x][t.y+1]&&(o=!0),void 0!==a[t.x+1]&&void 0!==a[t.x+1][t.y+1]&&(u=!0),void 0!==a[t.x+1]&&void 0!==a[t.x+1][t.y]&&(i=!0),void 0!==a[t.x+1]&&void 0!==a[t.x+1][t.y-1]&&(s=!0),void 0!==a[t.x]&&void 0!==a[t.x][t.y-1]&&(c=!0),void 0!==a[t.x-1]&&void 0!==a[t.x-1][t.y-1]&&(y=!0),void 0!==a[t.x-1]&&void 0!==a[t.x-1][t.y]&&(l=!0),void 0!==a[t.x-1]&&void 0!==a[t.x-1][t.y+1]&&(d=!0),o&&a[t.x][t.y+1].mine&&(r+=1),u&&a[t.x+1][t.y+1].mine&&(r+=1),i&&a[t.x+1][t.y].mine&&(r+=1),s&&a[t.x+1][t.y-1].mine&&(r+=1),c&&a[t.x][t.y-1].mine&&(r+=1),y&&a[t.x-1][t.y-1].mine&&(r+=1),l&&a[t.x-1][t.y].mine&&(r+=1),d&&a[t.x-1][t.y+1].mine&&(r+=1),a[t.x][t.y].count=r,a[t.x][t.y].revealed=!0,0!==r?a:(o&&!a[t.x][t.y+1].revealed&&(a=e(a,{x:t.x,y:t.y+1})),u&&!a[t.x+1][t.y+1].revealed&&(a=e(a,{x:t.x+1,y:t.y+1})),i&&!a[t.x+1][t.y].revealed&&(a=e(a,{x:t.x+1,y:t.y})),s&&!a[t.x+1][t.y-1].revealed&&(a=e(a,{x:t.x+1,y:t.y-1})),c&&!a[t.x][t.y-1].revealed&&(a=e(a,{x:t.x,y:t.y-1})),y&&!a[t.x-1][t.y-1].revealed&&(a=e(a,{x:t.x-1,y:t.y-1})),l&&!a[t.x-1][t.y].revealed&&(a=e(a,{x:t.x-1,y:t.y})),d&&!a[t.x-1][t.y+1].revealed&&(a=e(a,{x:t.x-1,y:t.y+1})),a))},R=function(e){for(var n=!0,t=0;t<10;t++)for(var r=0;r<10;r++)e[t][r].mine&&(e[t][r].flag||(n=!1));return n},_=Object(C.combineReducers)({board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case m:return S();case h:var t=M(e.board),r=n.button,a=n.x,o=n.y;0===r?t[a][o].mine?alert("Game over"):t=N(t,{x:a,y:o}):2===r&&(t[a][o].flag=!t[a][o].flag);var i=R(t);return{win:i,board:t};default:return e}}});t(43);var A,G=Object(O.a)({reducer:_,middleware:[w].concat(Object(k.a)(Object(O.b)())),preloadedState:A,enhancers:[E]});Object(o.render)(a.a.createElement(i.a,{store:G},a.a.createElement(j,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.b004ba94.chunk.js.map