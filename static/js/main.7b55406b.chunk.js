(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{27:function(e,t,n){e.exports=n(44)},37:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(9),l=n(8),c=n(11),i=n(12),u=n(15),d=n(14),s=n(16),m=n(46),x=n(47),y=n(48),v=(n(37),n(13)),h="INIT_GAME",p="USER_CLICK",f=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={block:n.props.board[n.props.x][n.props.y]},n.handleClick=n.handleClick.bind(Object(v.a)(n)),n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.handleClick(e.button,this.props.x,this.props.y)}},{key:"render",value:function(){var e,t=this.props.board[this.props.x][this.props.y];return e=t.flag?a.a.createElement("div",{style:{height:"100%",width:"100%",backgroundImage:"url(flag.png)"}}):t.revealed?a.a.createElement("div",{className:"revealed"},a.a.createElement("p",null,t.count)):a.a.createElement("div",{className:"unrevealed"}),this.props.win&&t.mine&&(e=a.a.createElement("div",{style:{width:"100%",height:"100%",backgroundImage:"url(mine.png)"}})),a.a.createElement("td",{onContextMenu:this.handleClick,onClick:this.handleClick},e)}}]),t}(a.a.Component),b=Object(l.b)((function(e){return{board:e.board.board,win:e.board.win}}),(function(e){return{handleClick:function(t,n,r){e(function(e,t,n){return{type:"USER_CLICK",button:e,x:t,y:n}}(t,n,r))}}}))(f),g=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<10;t++){for(var n=[],r=0;r<10;r++)n.push(a.a.createElement(b,{key:r,mine:this.props.root.board[t][r].mine,x:t,y:r}));e.push(a.a.createElement("tr",{key:t},n))}return a.a.createElement(m.a,null,a.a.createElement(x.a,null,a.a.createElement(y.a,{className:"text-center mt-5 mb-5"},a.a.createElement("h1",null,"Minesweeper with React-Redux"))),a.a.createElement(x.a,null,a.a.createElement(y.a,{className:"text-center"},a.a.createElement("table",{id:"gameTable",className:"mx-auto"},a.a.createElement("tbody",null,e)))),a.a.createElement(x.a,null,a.a.createElement(y.a,{className:"text-center mt-5 mb-5"},a.a.createElement("p",null,"Use left click to reveal blocks, and right click to flag blocks."),a.a.createElement("p",null,"After flagging all mines, you win the game."))))}}]),t}(a.a.Component),E=Object(l.b)((function(e){return{root:e.board}}),(function(e){return{}}))(g),k=n(26),j=n(20),O=function(e){return function(t,n,r){return e((function(e,n){var r,a=performance.now(),o=t(e,n),l=performance.now(),c=(r=l-a,Math.round(100*r)/100);return console.log("reducer process time:",c),o}),n,r)}},w=function(e){return function(t){return function(n){console.log(n.type),console.info("dispatching",n);var r=t(n);return console.log("next state",e.getState()),r}}},C=n(4),M=n(23),I=function(e){for(var t=[],n=0;n<e.length;n++){for(var r=[],a=0;a<e[n].length;a++)r.push(Object(M.a)({},e[n][a]));t.push(r)}return t},N=function(){for(var e=10*Math.random()+10,t=[],n=0;n<10;n++){for(var r=[],a=0;a<10;a++)r.push({mine:!1,revealed:!1,flag:!1});t.push(r)}for(var o=0;o<e;o++){var l=Math.floor(10*Math.random()),c=Math.floor(10*Math.random());t[l][c].mine=!0}return{board:t,win:!1}},R=function e(t,n){var r=0,a=I(t),o=!1,l=!1,c=!1,i=!1,u=!1,d=!1,s=!1,m=!1;return console.log("Flood source: "+n.x+", "+n.y),console.log(a),a[n.x][n.y].revealed?(console.log("Already revealed, return unmodded board"),a):(void 0!==a[n.x]&&void 0!==a[n.x][n.y+1]&&(o=!0),void 0!==a[n.x+1]&&void 0!==a[n.x+1][n.y+1]&&(u=!0),void 0!==a[n.x+1]&&void 0!==a[n.x+1][n.y]&&(l=!0),void 0!==a[n.x+1]&&void 0!==a[n.x+1][n.y-1]&&(s=!0),void 0!==a[n.x]&&void 0!==a[n.x][n.y-1]&&(c=!0),void 0!==a[n.x-1]&&void 0!==a[n.x-1][n.y-1]&&(m=!0),void 0!==a[n.x-1]&&void 0!==a[n.x-1][n.y]&&(i=!0),void 0!==a[n.x-1]&&void 0!==a[n.x-1][n.y+1]&&(d=!0),o&&a[n.x][n.y+1].mine&&(r+=1),u&&a[n.x+1][n.y+1].mine&&(r+=1),l&&a[n.x+1][n.y].mine&&(r+=1),s&&a[n.x+1][n.y-1].mine&&(r+=1),c&&a[n.x][n.y-1].mine&&(r+=1),m&&a[n.x-1][n.y-1].mine&&(r+=1),i&&a[n.x-1][n.y].mine&&(r+=1),d&&a[n.x-1][n.y+1].mine&&(r+=1),a[n.x][n.y].count=r,a[n.x][n.y].revealed=!0,0!==r?a:(o&&!a[n.x][n.y+1].revealed&&(a=e(a,{x:n.x,y:n.y+1})),u&&!a[n.x+1][n.y+1].revealed&&(a=e(a,{x:n.x+1,y:n.y+1})),l&&!a[n.x+1][n.y].revealed&&(a=e(a,{x:n.x+1,y:n.y})),s&&!a[n.x+1][n.y-1].revealed&&(a=e(a,{x:n.x+1,y:n.y-1})),c&&!a[n.x][n.y-1].revealed&&(a=e(a,{x:n.x,y:n.y-1})),m&&!a[n.x-1][n.y-1].revealed&&(a=e(a,{x:n.x-1,y:n.y-1})),i&&!a[n.x-1][n.y].revealed&&(a=e(a,{x:n.x-1,y:n.y})),d&&!a[n.x-1][n.y+1].revealed&&(a=e(a,{x:n.x-1,y:n.y+1})),a))},S=function(e){for(var t=!0,n=0;n<10;n++)for(var r=0;r<10;r++)e[n][r].mine&&(e[n][r].flag||(t=!1));return t},A=Object(C.combineReducers)({board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return N();case p:var n=I(e.board),r=t.button,a=t.x,o=t.y;0===r?n[a][o].mine?alert("Game over"):n=R(n,{x:a,y:o}):2===r&&(n[a][o].flag=!n[a][o].flag);var l=S(n);return{win:l,board:n};default:return e}}});n(43);var U,_=Object(j.a)({reducer:A,middleware:[w].concat(Object(k.a)(Object(j.b)())),preloadedState:U,enhancers:[O]});Object(o.render)(a.a.createElement(l.a,{store:_},a.a.createElement(E,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.7b55406b.chunk.js.map