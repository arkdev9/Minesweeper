{"version":3,"sources":["actions/index.js","containers/Block.jsx","components/App.jsx","enhancers/monitorReducers.js","middleware/logger.js","reducers/board.js","reducers/index.js","configureStore.js","index.js"],"names":["ActionTypes","Block","props","state","block","board","x","y","handleClick","bind","e","preventDefault","this","button","flag","style","width","height","backgroundImage","revealed","count","mine","onContextMenu","onClick","React","Component","connect","dispatch","type","userClick","App","table","i","row","j","push","key","root","Container","Row","Col","className","id","monitorReducerEnhancer","createStore","reducer","initialState","enhancer","action","number","start","performance","now","newState","end","diff","Math","round","console","log","logger","store","next","info","result","getState","getCopy","copy","length","defaultState","numMines","random","floor","floodFillMod","sourceBoard","source","up","right","down","left","upright","upleft","downright","downleft","undefined","combineReducers","alert","preloadedState","configureStore","rootReducer","middleware","loggerMiddleware","getDefaultMiddleware","enhancers","monitorReducersEnhancer","render","document","getElementById"],"mappings":"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","file":"static/js/main.e6e37b7d.chunk.js","sourcesContent":["export const ActionTypes = {\n\tINIT_GAME: 'INIT_GAME',\n\tUSER_CLICK: 'USER_CLICK'\n}\n\nexport const userClick = (button, x, y) => ({\n\ttype: 'USER_CLICK',\n\tbutton: button,\n\tx: x,\n\ty: y\n})\n\nexport const initGame = (boardSize) => ({\n\ttype: 'INIT_GAME'\n})","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { userClick } from \"../actions\";\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tboard: state.board\n\t}\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\thandleClick: (button, x, y) => {\n\t\t\tdispatch(userClick(button, x, y))\n\t\t}\n\t}\n};\n\nclass Block extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tblock: this.props.board[this.props.x][this.props.y]\n\t\t}\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\n\thandleClick(e) {\n\t\te.preventDefault();\n\t\tthis.props.handleClick(e.button, this.props.x, this.props.y);\n\t}\n\n\trender() {\n\t\tlet block = this.props.board[this.props.x][this.props.y];\n\t\tlet x;\n\t\tif (block.flag) x = (<div style={{ width: '100%', height: '100%', backgroundImage: 'url(flag.png)' }}></div>)\n\t\telse if (block.revealed) x = (<p>{block.count}</p>)\n\t\telse if (block.mine) x = (<div style={{ width: '100%', height: '100%', backgroundImage: 'url(mine.png)' }}></div>)\n\t\telse x = ' - ';\n\t\treturn (\n\t\t\t<td style={{ backgroundImage: 'flag.png' }} onContextMenu={this.handleClick} onClick={this.handleClick}>\n\t\t\t\t{x}\n\t\t\t</td>\n\t\t);\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Block)","import React from 'react'\nimport { connect } from \"react-redux\";\nimport { Container, Row, Col } from 'reactstrap'\n\nimport \"./table.css\"\nimport Block from '../containers/Block';\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\troot: state\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {}\n}\n\nclass App extends React.Component {\n\trender() {\n\t\t// console.log(this.props);\n\t\tlet table = [];\n\t\tfor (let i = 0; i < 10; i++) {\n\t\t\tlet row = [];\n\t\t\tfor (let j = 0; j < 10; j++) {\n\t\t\t\trow.push(\n\t\t\t\t\t<Block\n\t\t\t\t\t\tkey={j}\n\t\t\t\t\t\tmine={this.props.root.board[i][j].mine}\n\t\t\t\t\t\tx={i}\n\t\t\t\t\t\ty={j}\n\t\t\t\t\t>\n\t\t\t\t\t</Block>\n\t\t\t\t);\n\t\t\t}\n\t\t\ttable.push(<tr key={i}>{row}</tr>);\n\t\t}\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col className=\"text-center\">\n\t\t\t\t\t\t<table id=\"gameTable\" className=\"mx-auto\">\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{table}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","const round = number => Math.round(number * 100) / 100\n\nconst monitorReducerEnhancer = createStore => (\n\treducer,\n\tinitialState,\n\tenhancer\n) => {\n\tconst monitoredReducer = (state, action) => {\n\t\tconst start = performance.now();\n\t\tconst newState = reducer(state, action);\n\t\tconst end = performance.now();\n\t\tconst diff = round(end - start);\n\n\t\tconsole.log('reducer process time:', diff);\n\n\t\treturn newState;\n\t}\n\n\treturn createStore(monitoredReducer, initialState, enhancer);\n}\n\nexport default monitorReducerEnhancer;","const logger = store => next => action => {\n\tconsole.log(action.type);\n\tconsole.info('dispatching', action);\n\tlet result = next(action);\n\tconsole.log('next state', store.getState());\n\treturn result;\n}\n\nexport default logger;","import { ActionTypes } from \"../actions\";\n\nlet getCopy = (board) => {\n\tlet copy = [];\n\tfor (let i = 0; i < board.length; i++) {\n\t\tlet row = [];\n\t\tfor (let j = 0; j < board[i].length; j++) {\n\t\t\trow.push({ ...board[i][j] });\n\t\t}\n\t\tcopy.push(row);\n\t}\n\treturn copy;\n}\n\nlet defaultState = () => {\n\tlet numMines = Math.random() * 10 + 10;\n\tlet board = [];\n\tfor (let i = 0; i < 10; i++) {\n\t\tlet row = [];\n\t\tfor (let j = 0; j < 10; j++) {\n\t\t\trow.push({ mine: false, revealed: false, flag: false });\n\t\t}\n\t\tboard.push(row);\n\t}\n\tfor (let i = 0; i < numMines; i++) {\n\t\t// Random x and y in between 0 and 9\n\t\tlet x = Math.floor(Math.random() * 10);\n\t\tlet y = Math.floor(Math.random() * 10);\n\n\t\tboard[x][y].mine = true;\n\t}\n\treturn board;\n}\n\nconst floodFillMod = (sourceBoard, source) => {\n\tlet count = 0;\n\tlet board = getCopy(sourceBoard);\n\tlet up = false, right = false, down = false, left = false, upright = false, upleft = false, downright = false, downleft = false;\n\tconsole.log(\"Flood source: \" + source.x + ', ' + source.y);\n\tconsole.log(board);\n\tif (board[source.x][source.y].revealed) {\n\t\tconsole.log(\"Already revealed, return unmodded board\");\n\t\treturn board;\n\t}\n\n\tif (board[source.x] !== undefined && board[source.x][source.y + 1] !== undefined) up = true;\n\tif (board[source.x + 1] !== undefined && board[source.x + 1][source.y + 1] !== undefined) upright = true;\n\tif (board[source.x + 1] !== undefined && board[source.x + 1][source.y] !== undefined) right = true;\n\tif (board[source.x + 1] !== undefined && board[source.x + 1][source.y - 1] !== undefined) downright = true;\n\tif (board[source.x] !== undefined && board[source.x][source.y - 1] !== undefined) down = true;\n\tif (board[source.x - 1] !== undefined && board[source.x - 1][source.y - 1] !== undefined) downleft = true;\n\tif (board[source.x - 1] !== undefined && board[source.x - 1][source.y] !== undefined) left = true;\n\tif (board[source.x - 1] !== undefined && board[source.x - 1][source.y + 1] !== undefined) upleft = true;\n\n\t// Up\n\tif (up && board[source.x][source.y + 1].mine) count += 1;\n\t// Up and Right\n\tif (upright && board[source.x + 1][source.y + 1].mine) count += 1;\n\t// Right\n\tif (right && board[source.x + 1][source.y].mine) count += 1;\n\t// Down and Right\n\tif (downright && board[source.x + 1][source.y - 1].mine) count += 1;\n\t// Down\n\tif (down && board[source.x][source.y - 1].mine) count += 1;\n\t// Down and Left\n\tif (downleft && board[source.x - 1][source.y - 1].mine) count += 1;\n\t// Left\n\tif (left && board[source.x - 1][source.y].mine) count += 1;\n\t// Left and Up\n\tif (upleft && board[source.x - 1][source.y + 1].mine) count += 1;\n\n\tboard[source.x][source.y].count = count;\n\tboard[source.x][source.y].revealed = true;\n\t// If count is 0, flood all adjacent cells\n\t// if (count === 0) {\n\t// \t// Up\n\t// \tif (up && !board[source.x][source.y + 1].revealed) board = floodFillMod(board, { x: source.x, y: source.y + 1 });\n\t// \t// Up and Right\n\t// \tif (upright && !board[source.x + 1][source.y + 1].revealed) board = floodFillMod(board, { x: source.x + 1, y: source.y + 1 });\n\t// \t// Right\n\t// \tif (right && !board[source.x + 1][source.y].revealed) board = floodFillMod(board, { x: source.x + 1, y: source.y });\n\t// \t// Down and Right\n\t// \tif (downright && !board[source.x + 1][source.y - 1].revealed) board = floodFillMod(board, { x: source.x + 1, y: source.y - 1 });\n\t// \t// Down\n\t// \tif (down && !board[source.x][source.y - 1].revealed) board = floodFillMod(board, { x: source.x, y: source.y - 1 });\n\t// \t// Down and Left\n\t// \tif (downleft && !board[source.x - 1][source.y - 1].revealed) board = floodFillMod(board, { x: source.x - 1, y: source.y - 1 });\n\t// \t// Left\n\t// \tif (left && !board[source.x - 1][source.y].revealed) board = floodFillMod(board, { x: source.x - 1, y: source.y });\n\t// \t// Left and Up\n\t// \tif (upleft && !board[source.x - 1][source.y + 1].revealed) board = floodFillMod(board, { x: source.x - 1, y: source.y + 1 });\n\t// } else {\n\t// \treturn board;\n\t// }\n\treturn board;\n}\n\nexport default (state = defaultState(), action) => {\n\tswitch (action.type) {\n\t\tcase ActionTypes.INIT_GAME:\n\t\t\treturn defaultState();\n\t\tcase ActionTypes.USER_CLICK:\n\t\t\tlet copy = getCopy(state);\n\t\t\tlet button = action.button;\n\t\t\tlet x = action.x, y = action.y;\n\t\t\tif (button === 0) {\n\t\t\t\tif (copy[x][y].mine) {\n\t\t\t\t\talert(\"Game over\");\n\t\t\t\t} else {\n\t\t\t\t\tcopy = floodFillMod(copy, { x: x, y: y });\n\t\t\t\t}\n\t\t\t} else if (button === 2) {\n\t\t\t\tcopy[x][y].flag = true;\n\t\t\t}\n\t\t\treturn copy;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","import { combineReducers } from 'redux'\nimport board from './board'\nexport default combineReducers({\n\tboard: board\n})","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit'\nimport monitorReducersEnhancer from './enhancers/monitorReducers'\nimport loggerMiddleware from './middleware/logger'\nimport rootReducer from './reducers'\n\n\nexport default function configureAppStore(preloadedState) {\n\tconst store = configureStore({\n\t\treducer: rootReducer,\n\t\tmiddleware: [loggerMiddleware, ...getDefaultMiddleware()],\n\t\tpreloadedState,\n\t\tenhancers: [monitorReducersEnhancer]\n\t})\n\tif (process.env.NODE_ENV !== 'production' && module.hot) {\n\t\tmodule.hot.accept('./reducers', () => store.replaceReducer(rootReducer))\n\t}\n\treturn store\n}","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\n\nimport App from './components/App'\nimport configureStore from './configureStore'\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst store = configureStore()\n\nconst renderApp = () => render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\nif (process.env.NODE_ENV !== 'producion' && module.hot) {\n\tmodule.hot.accept('./components/App', renderApp);\n}\n\nrenderApp();"],"sourceRoot":""}