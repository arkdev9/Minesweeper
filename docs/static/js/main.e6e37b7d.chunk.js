(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{27:function(e,t,n){e.exports=n(44)},37:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(9),c=n(8),i=n(11),l=n(12),u=n(15),d=n(14),s=n(16),m=n(46),p=n(47),h=n(48),v=(n(37),n(13)),f="INIT_GAME",b="USER_CLICK",y=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={block:n.props.board[n.props.x][n.props.y]},n.handleClick=n.handleClick.bind(Object(v.a)(n)),n}return Object(s.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.handleClick(e.button,this.props.x,this.props.y)}},{key:"render",value:function(){var e,t=this.props.board[this.props.x][this.props.y];return e=t.flag?o.a.createElement("div",{style:{width:"100%",height:"100%",backgroundImage:"url(flag.png)"}}):t.revealed?o.a.createElement("p",null,t.count):t.mine?o.a.createElement("div",{style:{width:"100%",height:"100%",backgroundImage:"url(mine.png)"}}):" - ",o.a.createElement("td",{style:{backgroundImage:"flag.png"},onContextMenu:this.handleClick,onClick:this.handleClick},e)}}]),t}(o.a.Component),x=Object(c.b)((function(e){return{board:e.board}}),(function(e){return{handleClick:function(t,n,r){e(function(e,t,n){return{type:"USER_CLICK",button:e,x:t,y:n}}(t,n,r))}}}))(y),g=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<10;t++){for(var n=[],r=0;r<10;r++)n.push(o.a.createElement(x,{key:r,mine:this.props.root.board[t][r].mine,x:t,y:r}));e.push(o.a.createElement("tr",{key:t},n))}return o.a.createElement(m.a,null,o.a.createElement(p.a,null,o.a.createElement(h.a,{className:"text-center"},o.a.createElement("table",{id:"gameTable",className:"mx-auto"},o.a.createElement("tbody",null,e)))))}}]),t}(o.a.Component),j=Object(c.b)((function(e){return{root:e}}),(function(e){return{}}))(g),k=n(26),O=n(20),E=function(e){return function(t,n,r){return e((function(e,n){var r,o=performance.now(),a=t(e,n),c=performance.now(),i=(r=c-o,Math.round(100*r)/100);return console.log("reducer process time:",i),a}),n,r)}},C=function(e){return function(t){return function(n){console.log(n.type),console.info("dispatching",n);var r=t(n);return console.log("next state",e.getState()),r}}},w=n(4),I=n(23),M=function(e){for(var t=[],n=0;n<e.length;n++){for(var r=[],o=0;o<e[n].length;o++)r.push(Object(I.a)({},e[n][o]));t.push(r)}return t},S=function(){for(var e=10*Math.random()+10,t=[],n=0;n<10;n++){for(var r=[],o=0;o<10;o++)r.push({mine:!1,revealed:!1,flag:!1});t.push(r)}for(var a=0;a<e;a++){var c=Math.floor(10*Math.random()),i=Math.floor(10*Math.random());t[c][i].mine=!0}return t},N=function(e,t){var n=0,r=M(e),o=!1,a=!1,c=!1,i=!1,l=!1,u=!1,d=!1,s=!1;return console.log("Flood source: "+t.x+", "+t.y),console.log(r),r[t.x][t.y].revealed?(console.log("Already revealed, return unmodded board"),r):(void 0!==r[t.x]&&void 0!==r[t.x][t.y+1]&&(o=!0),void 0!==r[t.x+1]&&void 0!==r[t.x+1][t.y+1]&&(l=!0),void 0!==r[t.x+1]&&void 0!==r[t.x+1][t.y]&&(a=!0),void 0!==r[t.x+1]&&void 0!==r[t.x+1][t.y-1]&&(d=!0),void 0!==r[t.x]&&void 0!==r[t.x][t.y-1]&&(c=!0),void 0!==r[t.x-1]&&void 0!==r[t.x-1][t.y-1]&&(s=!0),void 0!==r[t.x-1]&&void 0!==r[t.x-1][t.y]&&(i=!0),void 0!==r[t.x-1]&&void 0!==r[t.x-1][t.y+1]&&(u=!0),o&&r[t.x][t.y+1].mine&&(n+=1),l&&r[t.x+1][t.y+1].mine&&(n+=1),a&&r[t.x+1][t.y].mine&&(n+=1),d&&r[t.x+1][t.y-1].mine&&(n+=1),c&&r[t.x][t.y-1].mine&&(n+=1),s&&r[t.x-1][t.y-1].mine&&(n+=1),i&&r[t.x-1][t.y].mine&&(n+=1),u&&r[t.x-1][t.y+1].mine&&(n+=1),r[t.x][t.y].count=n,r[t.x][t.y].revealed=!0,r)},R=Object(w.combineReducers)({board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return S();case b:var n=M(e),r=t.button,o=t.x,a=t.y;return 0===r?n[o][a].mine?alert("Game over"):n=N(n,{x:o,y:a}):2===r&&(n[o][a].flag=!0),n;default:return e}}});n(43);var _,A=Object(O.a)({reducer:R,middleware:[C].concat(Object(k.a)(Object(O.b)())),preloadedState:_,enhancers:[E]});Object(a.render)(o.a.createElement(c.a,{store:A},o.a.createElement(j,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.e6e37b7d.chunk.js.map